<!-- owner.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MuscleUP Gym - Admin Dashboard</title>
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';
    import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js';
    import { getFirestore, collection, query, where, getDocs } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';
    const firebaseConfig = {/* same config */};
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    onAuthStateChanged(auth, async user => {
      if (!user) window.location.href = 'index.html';
      else {
        // Verify owner role if needed
        const q = query(collection(db, 'users'), where('role','==','customer'), where('endDate','<', new Date().toLocaleDateString()));
        const expired = await getDocs(q);
        // Populate expired list
        expired.forEach(docSnap => {
          const client = docSnap.data();
          const li = document.createElement('li');
          li.textContent = `${client.name} (Code: ${client.code}) - Expired on: ${client.endDate}`;
          document.getElementById('expiredList').appendChild(li);
        });
        // Similar queries for expiring soon, etc.
      }
    });
  </script>
</head>
<body>
  <h2>Owner Dashboard</h2>
  <h3>Expiring Memberships (Next 7 Days)</h3>
  <ul id="expiringList"></ul>
  <h3>Expired Memberships</h3>
  <ul id="expiredList"></ul>
  <h3>Trainers</h3>
  <!-- List of trainers and their branches, with management options -->
  <ul id="trainerList"></ul>
  <h3>Search Members</h3>
  <input id="searchBox" type="text" placeholder="Name or Code">
  <button onclick="searchMembers()">Search</button>
  <ul id="searchResults"></ul>
  <!-- More sections: New Admissions log, Attendance reports, Payment confirmations, etc. -->
</body>
</html>
