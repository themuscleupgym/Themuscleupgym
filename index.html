<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MuscleUP Gym - Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- PWA manifest and icons -->
  <link rel="manifest" href="/Themuscleupgym/manifest.webmanifest">
  <!-- Firebase App (the core Firebase SDK) -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';
    import { getAuth, signInWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js';
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCI8MBk2m5M9smbjiKwMb3_TDAD-x_eIys",
      authDomain: "muscleup-cfcdd.firebaseapp.com",
      projectId: "muscleup-cfcdd",
      storageBucket: "muscleup-cfcdd.firebasestorage.app",
      messagingSenderId: "164105980592",
      appId: "1:164105980592:web:0675b84e9b9e349d48c975",
      measurementId: "G-HVRMZFH1JC"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    // Example login handler
    async function login() {
      const username = document.getElementById('loginUser').value;
      const password = document.getElementById('loginPass').value;
      try {
        // You may use signInWithEmailAndPassword if using email,
        // or a custom verification if using codes as user names.
        await signInWithEmailAndPassword(auth, username + '@muscleup.com', password);
        // Determine role (owner/trainer/customer) and redirect
        if (username === 'mukesh') {
          window.location.href = 'owner.html';
        } else {
          // Fetch user role from Firestore or auth claims, then redirect accordingly.
          // e.g., if role=='trainer', go to trainer.html
          // if role=='customer', go to user.html
        }
      } catch (error) {
        alert('Login failed: ' + error.message);
      }
    }
  </script>
</head>
<body>
  <h1>Welcome to MuscleUP Gym</h1>
  <input id="loginUser" type="text" placeholder="Username or Code">
  <input id="loginPass" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <!-- Add links for password reset, etc. as needed -->
</body>
</html>
